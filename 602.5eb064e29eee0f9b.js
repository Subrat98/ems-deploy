"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[602],{5602:(M,F,c)=>{c.r(F),c.d(F,{default:()=>T});var a=c(4341),p=c(177),e=c(4438);const h=(o,l,t)=>({"badge bg-warning":o,"badge bg-success":l,"badge bg-danger":t});function _(o,l){1&o&&(e.j41(0,"div",35),e.EFF(1," Employee ID is required (max 10 characters) "),e.k0s())}function E(o,l){1&o&&(e.j41(0,"div",35),e.EFF(1," Employee Name is required (max 50 characters) "),e.k0s())}function g(o,l){1&o&&(e.j41(0,"div",35),e.EFF(1," Leave type is required. "),e.k0s())}function f(o,l){1&o&&(e.j41(0,"div",35),e.EFF(1," From date is required. "),e.k0s())}function k(o,l){1&o&&(e.j41(0,"div",35),e.EFF(1," To date is required. "),e.k0s())}function b(o,l){1&o&&(e.j41(0,"div",35),e.EFF(1," Reason is required. "),e.k0s())}function y(o,l){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td")(14,"span",36),e.EFF(15),e.k0s()(),e.j41(16,"td")(17,"button",37),e.bIt("click",function(){const n=e.eBV(t).index,i=e.XpG();return e.Njj(i.approveLeave(n))}),e.EFF(18,"Approve"),e.k0s(),e.j41(19,"button",38),e.bIt("click",function(){const n=e.eBV(t).index,i=e.XpG();return e.Njj(i.rejectLeave(n))}),e.EFF(20,"Reject"),e.k0s()()()}if(2&o){const t=l.$implicit;e.R7$(2),e.JRh(t.employeeId),e.R7$(2),e.JRh(t.employeeName),e.R7$(2),e.JRh(t.leaveType),e.R7$(2),e.JRh(t.fromDate),e.R7$(2),e.JRh(t.toDate),e.R7$(2),e.JRh(t.reason),e.R7$(2),e.Y8G("ngClass",e.sMw(10,h,"Pending"===t.status,"Approved"===t.status,"Rejected"===t.status)),e.R7$(),e.SpI(" ",t.status," "),e.R7$(2),e.Y8G("disabled","Pending"!==t.status),e.R7$(2),e.Y8G("disabled","Pending"!==t.status)}}function j(o,l){if(1&o&&(e.qex(0),e.j41(1,"span",43),e.EFF(2),e.k0s(),e.bVm()),2&o){const t=l.$implicit;e.R7$(2),e.Lme("",t.employeeName," - ",t.leaveType,"")}}function C(o,l){if(1&o&&(e.qex(0),e.DNE(1,j,3,2,"ng-container",23),e.bVm()),2&o){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",t.leave)}}function D(o,l){if(1&o&&(e.j41(0,"div",41)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"br"),e.DNE(4,C,2,1,"ng-container",42),e.k0s()),2&o){const t=l.$implicit;e.R7$(),e.AVh("text-muted",!t.isCurrentMonth),e.R7$(),e.JRh(t.day),e.R7$(2),e.Y8G("ngIf",t.leave)}}function R(o,l){if(1&o&&(e.j41(0,"div",39),e.DNE(1,D,5,4,"div",40),e.k0s()),2&o){const t=l.$implicit;e.R7$(),e.Y8G("ngForOf",t)}}let T=(()=>{class o{constructor(t){this.fb=t,this.pendingLeaves=[{employeeId:"EMP001",employeeName:"Jane Smith",leaveType:"Vacation",fromDate:"2025-05-21",toDate:"2025-05-25",reason:"Family Trip",status:"Pending"},{employeeId:"EMP002",employeeName:"John Doe",leaveType:"Sick Leave",fromDate:"2025-05-22",toDate:"2025-05-24",reason:"Fever",status:"Pending"}],this.currentDate=new Date,this.currentMonth=this.currentDate.getMonth(),this.currentYear=this.currentDate.getFullYear(),this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.calendar=[],this.leaveForm=this.fb.group({employeeId:["",[a.k0.required,a.k0.maxLength(10)]],employeeName:["",[a.k0.required,a.k0.maxLength(50)]],leaveType:["",a.k0.required],fromDate:["",a.k0.required],toDate:["",a.k0.required],reason:["",a.k0.required]}),this.generateCalendar()}onSubmit(){if(this.leaveForm.valid){const s={...this.leaveForm.value,status:"Pending"};this.pendingLeaves.push(s),alert("Leave request submitted and notification sent to Admin."),this.leaveForm.reset(),this.generateCalendar()}else this.leaveForm.markAllAsTouched()}approveLeave(t){"Pending"===this.pendingLeaves[t].status&&(this.pendingLeaves[t].status="Approved",this.generateCalendar())}rejectLeave(t){"Pending"===this.pendingLeaves[t].status&&(this.pendingLeaves[t].status="Rejected",this.generateCalendar())}prevMonth(){0===this.currentMonth?(this.currentMonth=11,this.currentYear--):this.currentMonth--,this.generateCalendar()}nextMonth(){11===this.currentMonth?(this.currentMonth=0,this.currentYear++):this.currentMonth++,this.generateCalendar()}generateCalendar(){const t=new Date(this.currentYear,this.currentMonth,1).getDay(),s=new Date(this.currentYear,this.currentMonth+1,0).getDate(),n=[],i=new Date(this.currentYear,this.currentMonth,0).getDate();for(let r=t-1;r>=0;r--)n.push({date:"",day:i-r,isCurrentMonth:!1});for(let r=1;r<=s;r++){const d=`${this.currentYear}-${(this.currentMonth+1).toString().padStart(2,"0")}-${r.toString().padStart(2,"0")}`,u=this.pendingLeaves.filter(m=>this.dateInRange(d,m.fromDate,m.toDate)&&"Pending"===m.status);n.push({date:d,day:r,isCurrentMonth:!0,leave:u.length?u:void 0})}for(;n.length%7!=0;)n.push({date:"",day:n.length%7+1,isCurrentMonth:!1});this.calendar=[];for(let r=0;r<n.length;r+=7)this.calendar.push(n.slice(r,r+7))}dateInRange(t,s,n){const i=new Date(t);return new Date(s)<=i&&i<=new Date(n)}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(a.ok))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-element-color"]],decls:114,vars:12,consts:[[1,"container","my-5"],[1,"mb-4"],[1,"card","mb-4","p-4","shadow-sm","rounded"],[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col"],[1,"form-label"],["type","text","formControlName","employeeId","maxlength","10","placeholder","Enter Employee ID",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","employeeName","maxlength","50","placeholder","Enter Employee Name",1,"form-control"],["formControlName","leaveType",1,"form-select"],["value","","disabled",""],["value","Sick Leave"],["value","Vacation"],["value","Personal"],["value","Other"],["type","date","formControlName","fromDate",1,"form-control"],["type","date","formControlName","toDate",1,"form-control"],["rows","2","formControlName","reason","placeholder","Enter reason...",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"table","table-bordered"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"row"],[1,"alert","alert-info"],[1,"alert","alert-success"],[1,"alert","alert-warning"],[1,"card","p-4","shadow-sm","rounded"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"m-0"],[1,"row","text-center","fw-bold","mb-2"],[1,"col","border"],["class","row text-center",4,"ngFor","ngForOf"],[1,"text-danger"],[3,"ngClass"],[1,"btn","btn-sm","btn-success","me-1",3,"click","disabled"],[1,"btn","btn-sm","btn-danger",3,"click","disabled"],[1,"row","text-center"],["class","col border py-2",4,"ngFor","ngForOf"],[1,"col","border","py-2"],[4,"ngIf"],[1,"badge","bg-info"]],template:function(s,n){if(1&s&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Leave Management"),e.k0s(),e.j41(3,"div",2)(4,"h5",3),e.EFF(5,"Apply for Leave"),e.k0s(),e.j41(6,"form",4),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10,"Employee ID"),e.k0s(),e.nrm(11,"input",8),e.DNE(12,_,2,0,"div",9),e.k0s(),e.j41(13,"div",6)(14,"label",7),e.EFF(15,"Employee Name"),e.k0s(),e.nrm(16,"input",10),e.DNE(17,E,2,0,"div",9),e.k0s()(),e.j41(18,"div",5)(19,"div",6)(20,"label",7),e.EFF(21,"Leave Type"),e.k0s(),e.j41(22,"select",11)(23,"option",12),e.EFF(24,"Select Type"),e.k0s(),e.j41(25,"option",13),e.EFF(26,"Sick Leave"),e.k0s(),e.j41(27,"option",14),e.EFF(28,"Vacation"),e.k0s(),e.j41(29,"option",15),e.EFF(30,"Personal"),e.k0s(),e.j41(31,"option",16),e.EFF(32,"Other"),e.k0s()(),e.DNE(33,g,2,0,"div",9),e.k0s(),e.j41(34,"div",6)(35,"label",7),e.EFF(36,"From"),e.k0s(),e.nrm(37,"input",17),e.DNE(38,f,2,0,"div",9),e.k0s(),e.j41(39,"div",6)(40,"label",7),e.EFF(41,"To"),e.k0s(),e.nrm(42,"input",18),e.DNE(43,k,2,0,"div",9),e.k0s()(),e.j41(44,"div",3)(45,"label",7),e.EFF(46,"Reason"),e.k0s(),e.nrm(47,"textarea",19),e.DNE(48,b,2,0,"div",9),e.k0s(),e.j41(49,"button",20),e.EFF(50,"Submit Request"),e.k0s()()(),e.j41(51,"div",2)(52,"h5",3),e.EFF(53,"Pending Leave Approvals"),e.k0s(),e.j41(54,"table",21)(55,"thead",22)(56,"tr")(57,"th"),e.EFF(58,"Employee Id"),e.k0s(),e.j41(59,"th"),e.EFF(60,"Employee Name"),e.k0s(),e.j41(61,"th"),e.EFF(62,"Leave Type"),e.k0s(),e.j41(63,"th"),e.EFF(64,"Date From"),e.k0s(),e.j41(65,"th"),e.EFF(66,"Date To"),e.k0s(),e.j41(67,"th"),e.EFF(68,"Reason"),e.k0s(),e.j41(69,"th"),e.EFF(70,"Status"),e.k0s(),e.j41(71,"th"),e.EFF(72,"Actions"),e.k0s()()(),e.j41(73,"tbody"),e.DNE(74,y,21,14,"tr",23),e.k0s()()(),e.j41(75,"div",2)(76,"h5",3),e.EFF(77,"Leave Balance"),e.k0s(),e.j41(78,"div",24)(79,"div",6)(80,"div",25),e.EFF(81,"Sick Leave: 5 Days"),e.k0s()(),e.j41(82,"div",6)(83,"div",26),e.EFF(84,"Vacation: 10 Days"),e.k0s()(),e.j41(85,"div",6)(86,"div",27),e.EFF(87,"Personal: 2 Days"),e.k0s()()()(),e.j41(88,"div",28)(89,"h5",3),e.EFF(90,"Team Leave Calendar"),e.k0s(),e.j41(91,"div",29)(92,"button",30),e.bIt("click",function(){return n.prevMonth()}),e.EFF(93,"\xab Prev"),e.k0s(),e.j41(94,"h6",31),e.EFF(95),e.k0s(),e.j41(96,"button",30),e.bIt("click",function(){return n.nextMonth()}),e.EFF(97,"Next \xbb"),e.k0s()(),e.j41(98,"div",32)(99,"div",33),e.EFF(100,"Sun"),e.k0s(),e.j41(101,"div",33),e.EFF(102,"Mon"),e.k0s(),e.j41(103,"div",33),e.EFF(104,"Tue"),e.k0s(),e.j41(105,"div",33),e.EFF(106,"Wed"),e.k0s(),e.j41(107,"div",33),e.EFF(108,"Thu"),e.k0s(),e.j41(109,"div",33),e.EFF(110,"Fri"),e.k0s(),e.j41(111,"div",33),e.EFF(112,"Sat"),e.k0s()(),e.DNE(113,R,2,1,"div",34),e.k0s()()),2&s){let i,r,d,u,m,v;e.R7$(6),e.Y8G("formGroup",n.leaveForm),e.R7$(6),e.Y8G("ngIf",(null==(i=n.leaveForm.get("employeeId"))?null:i.touched)&&(null==(i=n.leaveForm.get("employeeId"))?null:i.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(r=n.leaveForm.get("employeeName"))?null:r.touched)&&(null==(r=n.leaveForm.get("employeeName"))?null:r.invalid)),e.R7$(16),e.Y8G("ngIf",(null==(d=n.leaveForm.get("leaveType"))?null:d.touched)&&(null==(d=n.leaveForm.get("leaveType"))?null:d.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(u=n.leaveForm.get("fromDate"))?null:u.touched)&&(null==(u=n.leaveForm.get("fromDate"))?null:u.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(m=n.leaveForm.get("toDate"))?null:m.touched)&&(null==(m=n.leaveForm.get("toDate"))?null:m.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(v=n.leaveForm.get("reason"))?null:v.touched)&&(null==(v=n.leaveForm.get("reason"))?null:v.invalid)),e.R7$(),e.Y8G("disabled",n.leaveForm.invalid),e.R7$(25),e.Y8G("ngForOf",n.pendingLeaves),e.R7$(21),e.Lme("",n.monthNames[n.currentMonth]," ",n.currentYear,""),e.R7$(18),e.Y8G("ngForOf",n.calendar)}},dependencies:[p.MD,p.YU,p.Sq,p.bT,a.X1,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.tU,a.j4,a.JD],encapsulation:2})}}return o})()}}]);